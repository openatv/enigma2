<menu text="Main menu" title="Main menu">
	<id val="mainmenu" />
<!-- the following types are allowed:
	<screen [module="mod"] [screen="classname"]>[arguments]</screen>
		executes Screen called "classname" from module "Screen.mod"
		if no module is given, Screen must be globally available.
		if no screen is given, module is used as screen class name.
		arguments must be comma seperated (will be fed to eval), and can
			use stuff from module
		(of course you must specify at least one of module, screen.)
	<setup id="id" />
		opens a setup with specified id
	<code> .. code .. </code>
		"exec"s code
-->

		<menu weight="0" level="0" text="Information" entryID="info_screen">
			<id val="information" />
			<item weight="0" level="0" text="About" entryID="about_screen"><screen module="About" /></item>
			<item weight="5" level="1" text="Service" entryID="service_info_screen"><screen module="ServiceInfo" screen="ServiceInfo"/></item>
		</menu>

		<menu weight="5" level="0" text="Timers" entryID="timer_menu">
			<id val="timermenu" />
			<item weight="100" level="0" text="Timer" entryID="timer_edit"><screen module="TimerEdit" screen="TimerEditList" /></item>
			<item weight="150" level="0" text="Sleep timer" entryID="sleep"><screen module="SleepTimerEdit" screen="SleepTimerEdit" /></item>
		</menu>

		<item weight="10" level="1" text="Plugins" entryID="plugin_selection"><screen module="PluginBrowser" screen="PluginBrowser" /></item>

		<item weight="15" level="1" text="VCR scart" entryID="scart_switch" configcondition="config.usage.show_vcr_scart" requires="ScartSwitch"><code>self.session.scart.VCRSbChanged(3)</code></item>

		<menu weight="20" level="0" text="Setup" flushConfigOnClose="1" entryID="setup_selection" >
			<id val="setup" />
			<menu weight="0" level="0" text="System" entryID="system_selection">
				<id val="system" />
				<item requires="OledDisplay" level="0" text="LCD Skin Setup" entryID="vfd_setup"><screen module="LcdSkinSelector" screen="LCDSkinSelector"/></item>
				<item level="0" entryID="usage_setup"><setup id="usage" /></item>
				<item level="0" entryID="user_interface"><setup id="userinterface" /></item>
				<item level="0" entryID="epg_settings"><setup id="epgsettings" /></item>
				<item level="0" entryID="recording_setup"><setup id="recording" /></item>
				<item level="2" entryID="subtitle_setup"><setup id="subtitlesetup" /></item>
				<item level="1" entryID="autolanguage_setup"><setup id="autolanguagesetup" /></item>
				<item level="0" entryID="av_setup"><setup id="avsetup"/></item>
				<item level="1" entryID="rfmod_setup" requires="RfModulator"><setup id="RFmod"/></item>
				<menu level="0" text="Harddisk" entryID="hardisk_selection" requires="Harddisk">
					<id val="harddisk" />
					<item level="1" entryID="harddisk_setup"><setup id="harddisk"/></item>
					<item level="0" text="Initialization" entryID="harddisk_init"><screen module="HarddiskSetup" screen="HarddiskSelection"/></item>
					<item level="0" text="Filesystem check" entryID="harddisk_check"><screen module="HarddiskSetup" screen="HarddiskFsckSelection"/></item>
					<item level="0" text="Convert ext3 filesystem to ext4" entryID="harddisk_convert" requires="ext4"><screen module="HarddiskSetup" screen="HarddiskConvertExt4Selection"/></item>
				</menu>
				<menu level="0" text="Network" entryID="network_menu">
					<id val="network" />
					<item level="0" text="Network setup" entryID="network_setup"><screen module="NetworkSetup" screen="NetworkAdapterSelection"/></item>
					<item level="1" text="NFS setup" entryID="netnfs_setup"><screen module="NetworkTools" screen="NetworkNfs"/></item>
					<item level="1" text="Samba setup" entryID="netsmba_setup"><screen module="NetworkTools" screen="NetworkSamba"/></item>
				</menu>
				<item level="1" text="Input devices" entryID="input_device_setup"><screen module="InputDeviceSetup" screen="InputDeviceSelection" /></item>
				<item requires="Display"><setup level="1" id="lcd" /></item>
				<item text="Keyboard"><setup id="keyboard" /></item>
				<item level="2" text="Recording paths" entryID="RecordPaths"><screen module="RecordPaths" screen="RecordPathsSettings" /></item>
				<item level="0" text="Language" entryID="language_setup"><screen module="LanguageSelection" /></item>
				<item level="0" entryID="timezone_setup"><setup id="timezone"/></item>
				<item level="0" entryID="logs_setup"><setup id="logs" /></item>
			</menu>

			<menu weight="5" level="0" text="Service searching" entryID="service_searching_selection" requires="!isGBIPBOX">
				<id val="scan" />
				<item weight="0" level="0" text="Tuner configuration" entryID="tuner_setup"><screen module="Satconfig" screen="NimSelection" /></item>
				<item weight="5" level="0" text="Automatic scan" entryID="auto_scan"><screen module="ScanSetup" screen="ScanSimple" /></item>
				<item weight="10" level="0" text="Manual scan" entryID="manual_scan"><screen module="ScanSetup" /></item>
			</menu>

			<item weight="10" level="0" text="Parental control" entryID="parental_setup"><screen module="ParentalControlSetup" screen="ParentalControlSetup" /></item>
			<menu weight="15" text="Common interface" entryID="cam_setup" requires="CommonInterface">
				<id val="cam" />
				<item weight="0" level="1" text="CI setup" entryID="ci_setup"><screen module="Ci" screen="CiSelection" /></item>
				<item weight="5" level="1" text="CI PIN setup" entryID="ci_setup"><screen module="Ci" screen="CiDefaultPinSetup" /></item>
			</menu>
			<item weight="20" level="0" text="Software update" entryID="software_update"><screen module="SoftwareUpdate" screen="UpdatePlugin" /></item>
			<item weight="25" level="0" text="Factory reset" entryID="factory_reset">
				<code>
from Screens.FactoryReset import FactoryReset
def msgClosed(ret):
	if ret:
		from os import system, _exit
		system("rm -R /etc/enigma2")
		_exit(0)
self.session.openWithCallback(msgClosed, FactoryReset)
</code>
			</item>
		</menu>

		<menu weight="25" text="Standby / restart" entryID="standby_restart_list">
			<id val="shutdown" />
			<item weight="0" level="0" text="Deep standby" requires="DeepstandbySupport" entryID="deep_standby"><screen module="Standby" screen="TryQuitMainloop">1</screen></item>
			<item weight="5" level="0" text="WOL standby" requires="GBWOL" entryID="deep_standby"><screen module="Standby" screen="TryQuitMainloop">43</screen></item>			
			<item weight="10" level="0" text="Standby" entryID="standby"><screen module="Standby" screen="Standby"/></item>
			<item weight="15" level="0" text="Sleep timer" entryID="sleep"><screen module="SleepTimerEdit" screen="SleepTimerEdit" /></item>
			<item weight="20" level="0" text="Restart enigma" entryID="restart_enigma"><screen module="Standby" screen="TryQuitMainloop">3</screen></item>
			<item weight="25" level="0" text="Restart" entryID="restart"><screen module="Standby" screen="TryQuitMainloop">2</screen></item>
			<item weight="30" level="0" text="Shutdown" requires="!DeepstandbySupport" entryID="deep_standby"><screen module="Standby" screen="TryQuitMainloop">1</screen></item>
		</menu>
</menu>
